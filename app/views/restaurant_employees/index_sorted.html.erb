<%= link_to 'Back to Main Page', '/' %> | <%= link_to 'All Restaurants', '/restaurants' %> | <%= link_to 'All Employees', '/employees' %>

<h1>Employees of: <%= @restaurant.name %></h1>

<% @restaurant.employees.order(:last_name).each do |employee| %>

  <%= link_to "#{employee.first_name} #{employee.last_name}", "/employees/#{employee.id}" %>

  <ul>
    <% if employee.currently_employed %>    
      <li>Current Employee</li>
      <li>Wage: $<%= employee.wage %> per hour</li>
    <% else %>
      <li>Former Employee</li>
      <li>Wage at time of termination: $<%= employee.wage.round(2) %> per hour</li>
    <% end %>
  </ul>

<% end %>

<%= link_to 'Create Employee', "/restaurants/#{@restaurant.id}/employees/new" %> |
<%= link_to 'Sort Employees Alphabetically', "/restaurants/#{@restaurant.id}/employees/alpha_sorted" %> |
<%= form_with url: "/restaurants/#{@restaurant.id}/employees/wage_filtered", method: :get, local: true do |form| %>
  <%= form.submit 'Only return employees that earn more than:' %>
  <%= form.text_field :wage %>
<% end %>
